<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="chem-styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.50/pdfmake.js" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.50/pdfmake.min.js.map"></script>
    <script src="fonts/vfs_fonts.js" charset="utf-8"></script>
    <script src="checker-tab.js"></script>
    <script src="properties-tab.js"></script>
    <script src="recipe-tab.js"></script>
    <script src="print-tab.js"></script>
    <script src="new-recipe-modal.js"></script>
    <script src="helpers/chemistry-symbol-getter.js"></script>
    <script src="helpers/font-check.js"></script>
    <script src="helpers/makers-mark-list.js"></script>
</head>
<body>


    <div class="load-indicator-parent">
        <div class="alert alert-warning" id="properties-load-indicator">
            Properties loading...
        </div>
        <div class="alert alert-warning" id="recipes-load-indicator">
            Recipes loading...
        </div>
    </div>


    <!--nav bar-->
    <ul class="nav nav-tabs milonga" id="myTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="checker-tab" data-toggle="tab" href="#checker" role="tab" aria-controls="checker" aria-selected="true">
                New Recipe Input
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="properties-tab" data-toggle="tab" href="#properties" role="tab" aria-controls="properties" aria-selected="false">
                List of All Properties
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="recipes-tab" data-toggle="tab" href="#recipes" role="tab" aria-controls="recipes" aria-selected="false">
                List of All Recipes
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="print-tab" data-toggle="tab" href="#print" role="tab" aria-controls="print" aria-selected="false">
                Print <span class="badge badge-pill" id="print-recipes-count"></span>
            </a>
        </li>
    </ul>
    <!--contents-->
    <div class="tab-content container" id="myTabContent">
        <!--New Recipe Input tab-->
        <div class="tab-pane fade show active" id="checker" role="tabpanel" aria-labelledby="checker-tab">
            <div class="container" style="margin-top:10px;">
                <div class="row">
                    <div class="col">
                        <div class="milonga checker-tab-header-text">Select properties for the recipe:</div>
                        <div class="unselected-properties" style="margin-top: 8px;"></div>
                    </div>
                    <div class="col">
                        <div class="milonga checker-tab-header-text">Selected properties:</div>
                        <div class="selected-properties" style="margin-top: 8px;"></div>
                        <div>
                            <button class="btn btn-lg btn-block check-recipes-button action-button milonga" disabled>
                                Add to Print Queue
                            </button>
                            <span class="recipe-check-results"></span>
                        </div>
                    </div>
                </div>  
            </div>  
        </div>
        <!--Defined Properties tab-->
        <div class="tab-pane fade" id="properties" role="tabpanel" aria-labelledby="properties-tab">
            <br>
            <ul class="list-group" id="properties-list-display">
            </ul>
        </div>
        <!--Defined Recipes tab-->
        <div class="tab-pane fade" id="recipes" role="tabpanel" aria-labelledby="recipes-tab">
            <br>
            <table class="table table-striped border">
                <tbody id="recipes-list-display"></tbody>
            </table>
        </div>
        <!--List of recipes to print-->
        <div class="tab-pane fade" id="print" role="tabpanel" aria-labelledby="print-tab">
            <br>
            <div class="print-button-container">
                <button class="print-button btn btn-lg action-button">
                    Print All
                </button>
            </div>
            <br>
            <div>
                <table class="table table-striped border">
                    <tbody id="recipes-print-display"></tbody>
                </table>
            </div>
        </div>
    </div>
    
<!-- Create New Recipe Modal -->
    <div class="modal fade" id="addNewModal" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title milonga">Define New Recipe</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="pb-3">
                            The combination of properties you have entered has not been defined yet.
                            Define a new recipe, or hit 'Cancel' to change your selection.
                        <br>
                        <span class="new-recipe-properties"></span>
                    </div>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">Name</span>
                        </div>
                        <input class="form-control new-recipe-name" aria-label="Name"/>
                    </div>
                    <br>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">Effect</span>
                        </div>
                        <textarea class="form-control new-recipe-effect" aria-label="Effect"></textarea>
                    </div>
                    <br>
                    <!-- New recipe Form dropdown -->
                    <div class="dropdown new-recipe-form" style="display: inline-block;">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Form
                        </button>
                        <div class="dropdown-menu"  aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item form-dropdown" id="form-potion">Potion</a>
                            <a class="dropdown-item form-dropdown" id="form-oil">Oil</a>
                            <a class="dropdown-item form-dropdown" id="form-powder">Powder</a>
                        </div>
                        <span class="selected-value form-selected-value"></span>
                    </div>
                    <!-- New Recipe Type dropdown -->
                    <div class="dropdown new-recipe-type" style="float: right;">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Type
                        </button>
                        <div class="dropdown-menu"  aria-labelledby="dropdownMenuButton2">
                            <a class="dropdown-item type-dropdown" id="type-magic">Magic</a>
                            <a class="dropdown-item type-dropdown" id="type-active-magic">Active Magic</a>
                            <a class="dropdown-item type-dropdown" id="type-powder">Powder</a>
                            <a class="dropdown-item type-dropdown" id="type-weapon-augment">Weapon Augment</a>
                            <a class="dropdown-item type-dropdown" id="type-poison">Poison</a>
                            <a class="dropdown-item type-dropdown" id="type-malady">Malady</a>
                            <a class="dropdown-item type-dropdown" id="type-instant-curse">Instant Curse</a>
                            <a class="dropdown-item type-dropdown" id="type-active-curse">Active Curse</a>
                            <a class="dropdown-item type-dropdown" id="type-remedy">Remedy</a>
                            <a class="dropdown-item type-dropdown" id="type-irresistable">Irresistable</a>
                        </div>
                        <span class="selected-value type-selected-value"></span>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                    <button type="button" class="btn action-button new-recipe-confirm" data-dismiss="modal">Save</button>
                </div>
            </div>
        </div>
    </div>
    <hr/>
    <!-- Auth stuff lives down here! -->
    <div class="auth-stuff-wrapper">
      <button class="auth-button" id="authorize_button">Authorize</button>
      <button class="auth-button" id="signout_button">Sign Out</button>
      <pre id="content" style="white-space: pre-wrap;"></pre>
      
      <script src="https://apis.google.com/js/api.js"></script>
      <script src="loader.js"></script>
      <script src="chemistry.js"></script>
    </div>
</body>
